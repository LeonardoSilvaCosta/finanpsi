(()=>{var e={};e.id=567,e.ids=[567],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},1648:(e,s,r)=>{"use strict";r.r(s),r.d(s,{patchFetch:()=>y,routeModule:()=>p,serverHooks:()=>m,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>v});var t={};r.r(t),r.d(t,{GET:()=>d,POST:()=>l});var o=r(2412),n=r(4293),a=r(4147),i=r(7856),c=r(8456);async function l(e){try{let{event:s,category:r,properties:t,value:o}=await e.json();if(!s||"string"!=typeof s)return i.NextResponse.json({error:"Evento \xe9 obrigat\xf3rio e deve ser uma string"},{status:400});return(0,c.L9)(s,t,{category:r,value:o,serverSide:!0}),i.NextResponse.json({success:!0,message:"Evento trackeado com sucesso"})}catch(e){return console.error("[Analytics API] Erro ao processar evento:",e),i.NextResponse.json({error:"Erro ao processar evento de analytics"},{status:500})}}async function d(){try{let{getAnalyticsInfo:e}=await Promise.resolve().then(r.bind(r,8456)),s=e();return i.NextResponse.json({analytics:s,timestamp:new Date().toISOString()})}catch(e){return console.error("[Analytics API] Erro ao obter informa\xe7\xf5es:",e),i.NextResponse.json({error:"Erro ao obter informa\xe7\xf5es de analytics"},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/analytics/route",pathname:"/api/analytics",filename:"route",bundlePath:"app/api/analytics/route"},resolvedPagePath:"/Users/leonardocosta/Documents/projetos pessoais/FinanPsi/apps/web/app/api/analytics/route.ts",nextConfigOutput:"standalone",userland:t}),{workAsyncStorage:u,workUnitAsyncStorage:v,serverHooks:m}=p;function y(){return(0,a.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:v})}},5303:()=>{},8456:(e,s,r)=>{"use strict";function t(){let e=process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID,s=process.env.NEXT_PUBLIC_PLAUSIBLE_DOMAIN,r=process.env.NEXT_PUBLIC_ANALYTICS_ENDPOINT;return{enabled:"false"!==process.env.NEXT_PUBLIC_ANALYTICS_ENABLED,providers:{ga4:{measurementId:e,enabled:!!e&&"false"!==process.env.NEXT_PUBLIC_GA_ENABLED},plausible:{domain:s,enabled:!!s&&"false"!==process.env.NEXT_PUBLIC_PLAUSIBLE_ENABLED},custom:{endpoint:r,enabled:!!r&&"true"===process.env.NEXT_PUBLIC_CUSTOM_ANALYTICS_ENABLED}}}}async function o(e){let s=t();if(s.providers.custom?.enabled&&s.providers.custom?.endpoint)try{let r=await fetch(s.providers.custom.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:e.name,category:e.category,properties:e.properties,value:e.value,timestamp:new Date().toISOString()})});r.ok?console.log(`[Analytics Custom] Evento enviado: ${e.name}`):console.warn(`[Analytics Custom] Erro HTTP ${r.status}`)}catch(e){console.error("[Analytics Custom] Erro ao enviar evento:",e)}}function n(e,s,r){if(!t().enabled){console.log("[Analytics] Analytics desabilitado");return}let n={name:e,properties:s,category:r?.category,value:r?.value};r?.serverSide,r?.serverSide,o(n).catch(e=>{console.error("[Analytics] Erro em server-side tracking:",e)})}r.d(s,{EB:()=>c,L9:()=>n,bc:()=>a,getAnalyticsInfo:()=>l,w2:()=>i});let a={diagnosisGenerated:(e,s)=>n("diagnosis_generated",{method:e,responseTime:s},{category:"diagnosis"}),diagnosisCached:()=>n("diagnosis_cached",{},{category:"diagnosis"}),flowiseUsed:(e,s)=>n("flowise_used",{success:e,responseTime:s},{category:"diagnosis"})},i={emailSent:(e,s)=>n("email_sent",{success:e,error:s},{category:"email"}),emailOpened:e=>n("email_opened",{leadId:e},{category:"email"})},c={webhookSent:(e,s,r)=>n("webhook_sent",{service:e,success:s,error:r},{category:"webhook"})};function l(){let e=t(),s=[];return e.providers.ga4?.enabled&&s.push("GA4"),e.providers.plausible?.enabled&&s.push("Plausible"),e.providers.custom?.enabled&&s.push("Custom"),{enabled:e.enabled,providers:s,config:e}}}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[267,814],()=>r(1648));module.exports=t})();