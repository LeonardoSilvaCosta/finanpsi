(()=>{var e={};e.id=358,e.ids=[358],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},808:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>x,routeModule:()=>p,serverHooks:()=>w,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>l});var r={};s.r(r),s.d(r,{GET:()=>c});var a=s(2412),o=s(4293),n=s(4147),i=s(7856),u=s(1326);async function c(){try{let e=await u._.lead.count(),t=await u._.lead.count({where:{createdAt:{gte:new Date(new Date().setHours(0,0,0,0))}}}),s=await u._.lead.count({where:{createdAt:{gte:new Date(new Date().setDate(new Date().getDate()-7))}}});return i.NextResponse.json({success:!0,count:e,today:t,thisWeek:s,timestamp:new Date().toISOString()})}catch(e){return console.error("[Stats API] Erro ao buscar estat\xedsticas:",e),i.NextResponse.json({success:!1,count:0,today:0,thisWeek:0,error:"Erro ao buscar estat\xedsticas"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/stats/subscribers/route",pathname:"/api/stats/subscribers",filename:"route",bundlePath:"app/api/stats/subscribers/route"},resolvedPagePath:"/Users/leonardocosta/Documents/projetos pessoais/FinanPsi/apps/web/app/api/stats/subscribers/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:d,workUnitAsyncStorage:l,serverHooks:w}=p;function x(){return(0,n.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:l})}},5303:()=>{},1326:(e,t,s)=>{"use strict";s.d(t,{_:()=>a});let r=require("@prisma/client"),a=globalThis.prisma??new r.PrismaClient}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[267,814],()=>s(808));module.exports=r})();